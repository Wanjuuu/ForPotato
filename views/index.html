<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="style.css">
<meta charset="UTF-8">
<title>ì´ë ¥ë²ˆí˜¸ ì¡°íšŒ</title>
</head>
<body>

<h2>ğŸ® ë‹¤ì¤‘ ì´ë ¥ë²ˆí˜¸ ì¡°íšŒ</h2>

<form class="mainForm" action="/search" method="POST" enctype="multipart/form-data">
    <div>
    <div class="container">
        <div class="card">
            <h3>1) ì´ë ¥ë²ˆí˜¸ ì…ë ¥</h3>
            <p>í•œ ì¤„ì— í•˜ë‚˜ì”© ì…ë ¥í•˜ì„¸ìš”.</p>
<textarea class="textarea" name="traceNos" placeholder="ì˜ˆ: 222222222222&#10;333333333333" required>
002158984328
002163885126
</textarea>
        </div>

        <div class="card">
            <h3>2) ë°ì´í„° ì„ íƒ (.xlsx)</h3>
            <p>ì—‘ì…€ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”.</p>
            <input type="file" name="excelFile"/>
        </div>
    </div>
         <button type="submit">ì¡°íšŒ</button>
    </div>
 </form>
      

</body>
</html>

<script>
const form = document.querySelector("form");
form.addEventListener("submit", (e) => {
    const textarea = form.traceNos.value.trim();
    const lines = textarea.split(/\r?\n/);

    for (const [i, line] of lines.entries()) {
        if (!/^\d{12}$/.test(line)) {
            e.preventDefault();
            alert(`ë¼ì¸ ${i + 1}ë²ˆ: 12ìë¦¬ ìˆ«ìë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤!`);
            return;
        }
    }
});
</script>